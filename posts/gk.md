---
title: 公开
description: 测试公开
tags:
  - 测试
coverImageUrl: >-
  https://img.ixintu.com/download/jpg/201911/e25b904bc42a74d7d77aed81e66d772c.jpg
language: zh
isSticky: false
status: published
visibility: public
updatedAt: '2025-06-20T02:51:47.204Z'
---
\# Manus Blog System !\[Manus Blog System Logo\](https://via.placeholder.com/800x200?text=Manus+Blog+System) ## 项目简介 Manus Blog System 是一个功能强大、现代化的博客系统，基于 Next.js 构建，提供直观的管理界面和优秀的用户体验。该系统将内容存储在 GitHub 仓库中，结合 Cloudflare R2 进行媒体文件管理，实现了一个无需传统数据库的高性能博客解决方案。 核心价值主张： - \*\*简化内容管理\*\*：通过 GitHub 仓库管理文章内容，支持 Markdown 格式和版本控制 - \*\*高性能与可扩展性\*\*：利用 Next.js 的静态生成和增量静态再生功能，提供极速加载体验 - \*\*完整的权限控制\*\*：基于 GitHub OAuth 和角色的访问控制，支持多用户协作 - \*\*一键部署\*\*：无缝部署到 Vercel 和 Cloudflare，无需复杂的服务器配置 - \*\*丰富的扩展功能\*\*：内置评论系统、分析跟踪、广告集成和 SEO 优化 ## 技术栈 ### 前端与框架 - \*\*Next.js\*\* - React 框架，提供服务端渲染、静态生成等功能 - \*\*React\*\* - UI 组件库 - \*\*TypeScript\*\* - 类型安全的 JavaScript 扩展 - \*\*Tailwind CSS\*\* - 实用优先的 CSS 框架 - \*\*Shadcn UI\*\* - 可定制的 UI 组件集合 - \*\*Framer Motion\*\* - 动画库 - \*\*next/font\*\* - 字体优化 - \*\*next/image\*\* - 图片优化 ### 认证与授权 - \*\*NextAuth.js\*\* - 认证解决方案 - \*\*GitHub OAuth\*\* - 第三方认证服务 ### 数据存储与管理 - \*\*GitHub API/Pages\*\* - 文章内容存储与版本控制 - \*\*Cloudflare R2\*\* - 对象存储服务，用于媒体文件管理 - \*\*Cloudflare Workers\*\* - 服务器less 函数，处理文件操作逻辑 ### 功能集成 - \*\*Giscus\*\* - 基于 GitHub Discussions 的评论系统 - \*\*Google Analytics\*\* - 网站流量分析 - \*\*Google AdSense\*\* - 广告集成 - \*\*i18next\*\* - 国际化支持 ### 开发与部署 - \*\*Vercel\*\* - 主要部署平台 - \*\*Cloudflare\*\* - 边缘网络与 Workers 部署 - \*\*ESLint\*\* - 代码检查工具 - \*\*Prettier\*\* - 代码格式化工具 - \*\*Wrangler\*\* - Cloudflare Workers 开发工具 ## 核心功能列表 ### 认证与授权 - \*\*GitHub OAuth 登录\*\* - 使用 GitHub 账号安全登录 - \*\*基于角色的访问控制 (RBAC)\*\* - 支持管理员、协作者和普通用户角色 - \*\*权限细分\*\* - 不同角色拥有不同操作权限（查看、编辑、管理等） - \*\*会话管理\*\* - 安全的会话处理和令牌管理 ### 内容管理 - \*\*Markdown 编辑\*\* - 支持 Markdown 格式的文章创作 - \*\*GitHub 同步\*\* - 文章内容存储在 GitHub 仓库，支持版本控制 - \*\*文章预览\*\* - 实时预览文章渲染效果 - \*\*草稿管理\*\* - 支持草稿保存和预览 - \*\*元数据管理\*\* - 自定义文章标题、描述、标签等元数据 - \*\*图片上传\*\* - 拖放式图片上传功能 ### 文件存储 - \*\*Cloudflare R2 集成\*\* - 安全高效的媒体文件存储 - \*\*可视化文件管理\*\* - 直观的文件上传、预览和删除界面 - \*\*文件分类\*\* - 支持文件分类和搜索 - \*\*直接访问链接\*\* - 生成文件的直接访问链接 - \*\*文件大小限制\*\* - 可配置的文件大小限制 ### 多语言支持 - \*\*国际化界面\*\* - 支持多种语言的用户界面 - \*\*内容翻译\*\* - 文章内容的多语言支持 - \*\*自动语言检测\*\* - 根据浏览器设置自动选择语言 - \*\*手动语言切换\*\* - 允许用户手动切换界面语言 ### 分析与广告 - \*\*Google Analytics 集成\*\* - 详细的流量分析 - \*\*Google AdSense 支持\*\* - 广告展示和收益管理 - \*\*页面性能监控\*\* - 前端性能指标跟踪 - \*\*用户行为分析\*\* - 了解用户如何与博客交互 ### SEO 优化 - \*\*自动生成元数据\*\* - 自动为文章生成 SEO 友好的元数据 - \*\*Sitemap 生成\*\* - 自动生成站点地图 - \*\*robots.txt 配置\*\* - 优化搜索引擎抓取 - \*\*结构化数据\*\* - 支持 JSON-LD 结构化数据 - \*\*响应式设计\*\* - 移动友好的界面设计 - \*\*图片优化\*\* - 自动图片优化和懒加载 ### 管理员面板 - \*\*仪表盘\*\* - 概览博客统计信息 - \*\*文章管理\*\* - 创建、编辑、删除文章 - \*\*媒体库\*\* - 管理所有上传的媒体文件 - \*\*用户管理\*\* - 查看和管理用户（仅管理员） - \*\*设置界面\*\* - 配置博客各项参数 - \*\*错误监控\*\* - 查看前端和后端错误日志 ## 安装与运行 ### 前提条件 - Node.js 18.x 或更高版本 - npm 或 yarn 包管理器 - Git - GitHub 账号 - Cloudflare 账号（用于媒体存储） - Vercel 账号（用于部署） ### 克隆仓库 \`\`\`bash # 克隆仓库 git clone https://github.com/your-username/manus-blog-system.git cd manus-blog-system \`\`\` ### 安装依赖 \`\`\`bash # 使用 npm npm install # 或使用 yarn # yarn install \`\`\` ### 配置环境变量 创建 \`.env.local\` 文件在项目根目录，并添加以下环境变量： \`\`\`env # NextAuth 配置 NEXTAUTH\_URL=http://localhost:3000 NEXTAUTH\_SECRET=your-nextauth-secret-key-here # GitHub OAuth 配置 GITHUB\_ID=your-github-oauth-app-client-id GITHUB\_SECRET=your-github-oauth-app-client-secret # GitHub 仓库配置 GITHUB\_BLOG\_REPO\_OWNER=your-github-username GITHUB\_BLOG\_REPO\_NAME=your-blog-repo-name # Cloudflare 配置 NEXT\_PUBLIC\_CLOUDFLARE\_WORKER\_URL=http://localhost:8787 # 可选：Google Analytics NEXT\_PUBLIC\_GA\_ID=your-google-analytics-id # 可选：Google AdSense NEXT\_PUBLIC\_ADSENSE\_CLIENT\_ID=your-adsense-client-id NEXT\_PUBLIC\_ADSENSE\_SLOT\_ID=your-adsense-slot-id # 可选：Giscus 评论系统 NEXT\_PUBLIC\_GISCUS\_REPO=your-giscus-repo NEXT\_PUBLIC\_GISCUS\_REPO\_ID=your-giscus-repo-id NEXT\_PUBLIC\_GISCUS\_CATEGORY=your-giscus-category NEXT\_PUBLIC\_GISCUS\_CATEGORY\_ID=your-giscus-category-id NEXT\_PUBLIC\_GISCUS\_MAPPING=pathname NEXT\_PUBLIC\_GISCUS\_REACTIONS\_ENABLED=1 NEXT\_PUBLIC\_GISCUS\_EMIT\_METADATA=0 NEXT\_PUBLIC\_GISCUS\_INPUT\_POSITION=bottom NEXT\_PUBLIC\_GISCUS\_LANG=zh-CN NEXT\_PUBLIC\_GISCUS\_LOADING=lazy \`\`\` 环境变量说明： - \`NEXTAUTH\_SECRET\`: 用于加密会话的随机字符串，可使用 \`openssl rand -hex 32\` 生成 - \`GITHUB\_ID\` 和 \`GITHUB\_SECRET\`: GitHub OAuth App 的客户端 ID 和密钥 - \`GITHUB\_BLOG\_REPO\_OWNER\` 和 \`GITHUB\_BLOG\_REPO\_NAME\`: 存储博客文章的 GitHub 仓库信息 - \`NEXT\_PUBLIC\_CLOUDFLARE\_WORKER\_URL\`: Cloudflare Worker 的 URL - 其他可选变量根据需要配置 ### 运行开发服务器 \`\`\`bash # 使用 npm npm run dev # 或使用 yarn # yarn dev \`\`\` 打开 \[http://localhost:3000\](http://localhost:3000) 在浏览器中查看结果。 博客管理界面位于 \[http://localhost:3000/admin\](http://localhost:3000/admin)。 ## 部署指南 ### 部署到 Vercel 1. 将代码推送到 GitHub 仓库 2. 在 Vercel 中导入项目 3. 在 Vercel 项目设置中添加所有必要的环境变量 4. 点击部署按钮 Vercel 会自动检测 Next.js 项目并使用最佳配置进行部署。 ### 部署 Cloudflare Workers 1. 进入 Cloudflare Workers 目录： \`\`\`bash cd my-blog \`\`\` 2. 安装 Wrangler CLI（如果尚未安装）： \`\`\`bash npm install -g wrangler \`\`\` 3. 登录 Cloudflare： \`\`\`bash wrangler login \`\`\` 4. 部署 Worker： \`\`\`bash wrangler deploy \`\`\` 5. 记录部署后的 Worker URL，并在 Vercel 环境变量中更新 \`NEXT\_PUBLIC\_CLOUDFLARE\_WORKER\_URL\` ## GitHub OAuth App 配置 1. 登录 GitHub，进入 \[Settings > Developer settings > OAuth Apps\](https://github.com/settings/developers) 2. 点击 "New OAuth App" 3. 填写以下信息： - \*\*Application name\*\*: Manus Blog System - \*\*Homepage URL\*\*: 你的博客网址（如 https://your-blog.vercel.app） - \*\*Authorization callback URL\*\*: https://your-blog.vercel.app/api/auth/callback/github 4. 点击 "Register application" 5. 记录生成的 \*\*Client ID\*\* 6. 点击 "Generate a new client secret"，记录生成的 \*\*Client Secret\*\* 7. 将这些值分别填入 \`.env.local\` 文件中的 \`GITHUB\_ID\` 和 \`GITHUB\_SECRET\` ## Cloudflare R2/Worker 配置 ### 创建 R2 Bucket 1. 登录 Cloudflare 控制台 2. 进入 R2 部分 3. 点击 "Create bucket" 4. 输入 bucket 名称（如 \`manus-blog-media\`） 5. 选择区域 6. 点击 "Create" ### 配置 R2 访问权限 1. 在 bucket 页面，点击 "Settings" 2. 在 "Public access" 部分，点击 "Edit" 3. 选择 "Allow public access" 4. 点击 "Save" ### 配置 Worker 1. 在 Cloudflare 控制台，进入 Workers 部分 2. 创建新的 Worker 3. 将 \`my-blog/src/worker.js\` 中的代码复制到 Worker 编辑器 4. 点击 "Settings" 5. 在 "Variables" 部分，添加以下环境变量： - \`JWT\_SECRET\`: 用于 JWT 令牌的密钥（与 NextAuth 的密钥相同） - \`ALLOWED\_ORIGINS\`: 允许的来源（如 https://your-blog.vercel.app） 6. 在 "R2 Bucket Bindings" 部分，添加绑定： - 变量名称：\`R2\_BUCKET\` - 选择之前创建的 R2 bucket 7. 点击 "Deploy" ## Giscus 配置 1. 访问 \[Giscus 官网\](https://giscus.app/) 2. 使用 GitHub 账号登录 3. 在配置页面： - 输入你的仓库（格式：owner/repo） - 选择 "Discussions" 作为连接方式 - 选择讨论类别（如 "Comments"） - 选择映射方式（如 "Pathname"） - 配置其他选项（反应、位置、语言等） 4. 复制生成的脚本中的数据属性 5. 将这些值填入 \`.env.local\` 文件中对应的 \`NEXT\_PUBLIC\_GISCUS\_\*\` 变量 ## 贡献指南 感谢您对 Manus Blog System 的兴趣！我们欢迎各种形式的贡献，包括但不限于： ### 报告问题 - 使用 GitHub Issues 报告 bug 或提出功能建议 - 提供详细的问题描述和复现步骤 - 包含相关截图或错误信息 ### 提交代码 1. Fork 本仓库 2. 创建分支：\`git checkout -b feature/amazing-feature\` 3. 提交更改：\`git commit -m 'Add some amazing feature'\` 4. 推送到分支：\`git push origin feature/amazing-feature\` 5. 打开 Pull Request ### 代码规范 - 遵循项目的代码风格 - 添加适当的测试 - 更新文档（如需要） - 确保 CI 检查通过 ## 许可证信息 本项目采用 MIT 许可证 - 详情参见 \[LICENSE\](LICENSE) 文件。 --- Made with ❤️ by \[Your Name\](https://your-website.com) \[!\[Deploy with Vercel\](https://vercel.com/button)\](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fyour-username%2Fmanus-blog-system)
